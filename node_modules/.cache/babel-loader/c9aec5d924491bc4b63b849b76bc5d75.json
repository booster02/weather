{"ast":null,"code":"import { getCurrentTime } from \"../time/addHours\";\nimport { getDegreeDay, getDegreeHour } from \"./getDegree\";\nimport { getStatusHour } from \"./getStatus\";\nimport { getTimeDaily, getTimeHourly } from \"./getTime\";\nimport { WeatherStatus } from \"../GetWeatherType\";\nexport function getHourPreviews(hourly) {\n  let date = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentTime(0);\n  let previewData = [];\n  let currentTimeRounded = date.substring(0, 13) + \":00\";\n  let hours = parseInt(currentTimeRounded.substring(11, 13));\n  let maxIterations = 23 - hours;\n\n  for (let i = 0; i <= maxIterations; i++) {\n    let temperatureIndex = hourly.time.indexOf(currentTimeRounded) + i;\n    let degree = getDegreeHour(hourly.temperature_2m, temperatureIndex);\n    let status = getStatusHour(hourly.weathercode, temperatureIndex);\n    let time = getTimeHourly(date, i - 2);\n    let weatherData = {\n      degree,\n      status,\n      time\n    };\n    let clicked = false;\n    previewData.push({\n      weatherData,\n      clicked\n    });\n  }\n\n  return previewData;\n}\nexport function getDayPreviews(daily) {\n  let clickedIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n  let previewData = [];\n  let date = new Date(getCurrentTime(0));\n  let currentTimeRounded = date.toISOString().substring(0, 14) + \":00\";\n\n  for (let i = 1; i <= 7; i++) {\n    let temperatureIndex = daily.time.indexOf(currentTimeRounded) + i;\n    let degree = getDegreeDay(daily.temperature_2m_min, daily.temperature_2m_max, temperatureIndex);\n    let status = WeatherStatus.NONE;\n    let time = getTimeDaily(i - 1);\n    let weatherData = {\n      degree,\n      status,\n      time\n    };\n    let clicked = i - 1 === clickedIndex;\n    previewData.push({\n      weatherData,\n      clicked\n    });\n  }\n\n  return previewData;\n}","map":{"version":3,"names":["getCurrentTime","getDegreeDay","getDegreeHour","getStatusHour","getTimeDaily","getTimeHourly","WeatherStatus","getHourPreviews","hourly","date","previewData","currentTimeRounded","substring","hours","parseInt","maxIterations","i","temperatureIndex","time","indexOf","degree","temperature_2m","status","weathercode","weatherData","clicked","push","getDayPreviews","daily","clickedIndex","Date","toISOString","temperature_2m_min","temperature_2m_max","NONE"],"sources":["/home/bela/TPL/frontend-challenges/js/03_react/weather/src/utils/previews/hourPreviews.tsx"],"sourcesContent":["import {getCurrentTime} from \"../time/addHours\";\nimport {getDegreeDay, getDegreeHour} from \"./getDegree\";\nimport {getStatusHour} from \"./getStatus\";\nimport {getTimeDaily, getTimeHourly} from \"./getTime\";\nimport {WeatherStatus} from \"../GetWeatherType\";\n\nexport interface hourly {\n    weathercode: number[];\n    temperature_2m: number[];\n    time: string[];\n}\n\nexport interface previewData {\n    weatherData: {\n        degree: number\n        status: WeatherStatus;\n        time: string;\n    };\n    clicked: boolean;\n}\n\nexport function getHourPreviews(hourly: hourly, date = getCurrentTime(0)) {\n\n    let previewData: previewData[] = [];\n    let currentTimeRounded = date.substring(0, 13) + \":00\";\n    let hours = parseInt(currentTimeRounded.substring(11, 13));\n    let maxIterations = 23 - hours;\n    for (let i = 0; i <= maxIterations; i++) {\n        let temperatureIndex = hourly.time.indexOf(currentTimeRounded) + i;\n        let degree = getDegreeHour(hourly.temperature_2m, temperatureIndex);\n        let status = getStatusHour(hourly.weathercode, temperatureIndex);\n        let time = getTimeHourly(date, i - 2);\n        let weatherData = {degree, status, time};\n        let clicked = false;\n        previewData.push({weatherData, clicked})\n    }\n    return previewData;\n}\n\ninterface daily {\n    temperature_2m_min: number[];\n    temperature_2m_max: number[];\n    time: string[];\n}\n\nexport function getDayPreviews(daily: daily, clickedIndex = -1) {\n    let previewData: previewData[] = [];\n    let date = new Date(getCurrentTime(0));\n    let currentTimeRounded = date.toISOString().substring(0, 14) + \":00\";\n    for (let i = 1; i <= 7; i++) {\n        let temperatureIndex = daily.time.indexOf(currentTimeRounded) + i;\n        let degree = getDegreeDay(daily.temperature_2m_min, daily.temperature_2m_max, temperatureIndex);\n        let status = WeatherStatus.NONE;\n        let time = getTimeDaily(i - 1);\n        let weatherData = {degree, status, time};\n        let clicked = (i - 1) === clickedIndex;\n        previewData.push({weatherData, clicked})\n    }\n    return previewData;\n}"],"mappings":"AAAA,SAAQA,cAAR,QAA6B,kBAA7B;AACA,SAAQC,YAAR,EAAsBC,aAAtB,QAA0C,aAA1C;AACA,SAAQC,aAAR,QAA4B,aAA5B;AACA,SAAQC,YAAR,EAAsBC,aAAtB,QAA0C,WAA1C;AACA,SAAQC,aAAR,QAA4B,mBAA5B;AAiBA,OAAO,SAASC,eAAT,CAAyBC,MAAzB,EAAmE;EAAA,IAA1BC,IAA0B,uEAAnBT,cAAc,CAAC,CAAD,CAAK;EAEtE,IAAIU,WAA0B,GAAG,EAAjC;EACA,IAAIC,kBAAkB,GAAGF,IAAI,CAACG,SAAL,CAAe,CAAf,EAAkB,EAAlB,IAAwB,KAAjD;EACA,IAAIC,KAAK,GAAGC,QAAQ,CAACH,kBAAkB,CAACC,SAAnB,CAA6B,EAA7B,EAAiC,EAAjC,CAAD,CAApB;EACA,IAAIG,aAAa,GAAG,KAAKF,KAAzB;;EACA,KAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAID,aAArB,EAAoCC,CAAC,EAArC,EAAyC;IACrC,IAAIC,gBAAgB,GAAGT,MAAM,CAACU,IAAP,CAAYC,OAAZ,CAAoBR,kBAApB,IAA0CK,CAAjE;IACA,IAAII,MAAM,GAAGlB,aAAa,CAACM,MAAM,CAACa,cAAR,EAAwBJ,gBAAxB,CAA1B;IACA,IAAIK,MAAM,GAAGnB,aAAa,CAACK,MAAM,CAACe,WAAR,EAAqBN,gBAArB,CAA1B;IACA,IAAIC,IAAI,GAAGb,aAAa,CAACI,IAAD,EAAOO,CAAC,GAAG,CAAX,CAAxB;IACA,IAAIQ,WAAW,GAAG;MAACJ,MAAD;MAASE,MAAT;MAAiBJ;IAAjB,CAAlB;IACA,IAAIO,OAAO,GAAG,KAAd;IACAf,WAAW,CAACgB,IAAZ,CAAiB;MAACF,WAAD;MAAcC;IAAd,CAAjB;EACH;;EACD,OAAOf,WAAP;AACH;AAQD,OAAO,SAASiB,cAAT,CAAwBC,KAAxB,EAAyD;EAAA,IAAnBC,YAAmB,uEAAJ,CAAC,CAAG;EAC5D,IAAInB,WAA0B,GAAG,EAAjC;EACA,IAAID,IAAI,GAAG,IAAIqB,IAAJ,CAAS9B,cAAc,CAAC,CAAD,CAAvB,CAAX;EACA,IAAIW,kBAAkB,GAAGF,IAAI,CAACsB,WAAL,GAAmBnB,SAAnB,CAA6B,CAA7B,EAAgC,EAAhC,IAAsC,KAA/D;;EACA,KAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;IACzB,IAAIC,gBAAgB,GAAGW,KAAK,CAACV,IAAN,CAAWC,OAAX,CAAmBR,kBAAnB,IAAyCK,CAAhE;IACA,IAAII,MAAM,GAAGnB,YAAY,CAAC2B,KAAK,CAACI,kBAAP,EAA2BJ,KAAK,CAACK,kBAAjC,EAAqDhB,gBAArD,CAAzB;IACA,IAAIK,MAAM,GAAGhB,aAAa,CAAC4B,IAA3B;IACA,IAAIhB,IAAI,GAAGd,YAAY,CAACY,CAAC,GAAG,CAAL,CAAvB;IACA,IAAIQ,WAAW,GAAG;MAACJ,MAAD;MAASE,MAAT;MAAiBJ;IAAjB,CAAlB;IACA,IAAIO,OAAO,GAAIT,CAAC,GAAG,CAAL,KAAYa,YAA1B;IACAnB,WAAW,CAACgB,IAAZ,CAAiB;MAACF,WAAD;MAAcC;IAAd,CAAjB;EACH;;EACD,OAAOf,WAAP;AACH"},"metadata":{},"sourceType":"module"}