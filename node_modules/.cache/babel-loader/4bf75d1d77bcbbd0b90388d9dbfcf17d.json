{"ast":null,"code":"import _toConsumableArray from\"/home/bela/TPL/frontend-challenges/js/03_react/weather/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/bela/TPL/frontend-challenges/js/03_react/weather/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{PreviewCard}from\"./preview-card\";import React,{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CastType;(function(CastType){CastType[\"HOURLY\"]=\"hourly\";CastType[\"DAILY\"]=\"daily\";CastType[\"FULLDAY\"]=\"fullday\";})(CastType||(CastType={}));export var ForeCast=function ForeCast(_ref){var castType=_ref.castType,previewData=_ref.previewData,changePreviewIndex=_ref.changePreviewIndex,headline=_ref.headline;var _useState=useState(previewData),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],setCards=_useState2[1];useEffect(function(){setCards(previewData);},[previewData]);var onClick=castType===CastType.DAILY&&cards?function(index){var newCards=_toConsumableArray(cards);var unclick=false;newCards=newCards.map(function(card,i){if(index===i&&card.clicked){card.clicked=false;changePreviewIndex(\"1970-00-00\");unclick=true;}else{card.clicked=index===i;}return card;});if(unclick)return;setCards(newCards);var day=\"2022-\"+cards[index].weatherData.time.substring(3,5)+\"-\"+cards[index].weatherData.time.substring(0,2)+\"T00:00\";changePreviewIndex(day);}:function(){};if(!previewData||!cards){return null;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:headline}),/*#__PURE__*/_jsx(\"div\",{className:castType===CastType.HOURLY?\"nextHours\":castType===CastType.FULLDAY?\"fullDay\":\"nextDays\",children:cards.map(function(data,index){return/*#__PURE__*/_jsx(PreviewCard,{degree:data.weatherData.degree,time:data.weatherData.time,status:data.weatherData.status,index:index,onClick:onClick,clicked:data.clicked},\"nextDays \".concat(index));})})]});};","map":{"version":3,"names":["PreviewCard","React","useEffect","useState","CastType","ForeCast","castType","previewData","changePreviewIndex","headline","cards","setCards","onClick","DAILY","index","newCards","unclick","map","card","i","clicked","day","weatherData","time","substring","HOURLY","FULLDAY","data","degree","status"],"sources":["/home/bela/TPL/frontend-challenges/js/03_react/weather/src/components/fore-cast.tsx"],"sourcesContent":["import {PreviewCard} from \"./preview-card\";\nimport React, {useEffect, useState} from \"react\";\nimport {previewData} from \"../utils/previews/hourPreviews\";\n\n\ninterface nextHoursProps {\n    previewData: previewData[] | null;\n    castType: CastType;\n    headline: string;\n    changePreviewIndex: (day: string) => void;\n}\n\nexport enum CastType {\n    HOURLY = \"hourly\",\n    DAILY = \"daily\",\n    FULLDAY = \"fullday\"\n}\n\nexport const ForeCast: React.FC<nextHoursProps> = ({\n                                                       castType,\n                                                       previewData,\n                                                       changePreviewIndex,\n                                                       headline\n                                                   }) => {\n    const [cards, setCards] = useState(previewData);\n    useEffect(() => {\n        setCards(previewData)\n    }, [previewData])\n\n    const onClick = castType === CastType.DAILY && cards ? (index: number) => {\n        let newCards = [...cards]\n        let unclick = false;\n        newCards = newCards.map((card, i) => {\n            if (index === i && card.clicked) {\n                card.clicked = false;\n                changePreviewIndex(\"1970-00-00\");\n                unclick = true;\n            } else {\n                card.clicked = index === i;\n            }\n            return card;\n        })\n        if (unclick) return;\n        setCards(newCards);\n        const day = \"2022-\" + cards[index].weatherData.time.substring(3, 5) + \"-\" + cards[index].weatherData.time.substring(0, 2) + \"T00:00\";\n        changePreviewIndex(day);\n    } : () => {\n    }\n\n    if (!previewData || !cards) {\n        return null\n    }\n    return (\n        <>\n            <h2>{headline}</h2>\n            <div\n                className={castType === CastType.HOURLY ? \"nextHours\" : castType === CastType.FULLDAY ? \"fullDay\" : \"nextDays\"}>\n                {\n                    cards.map((data, index) => <PreviewCard key={`nextDays ${index}`} degree={data.weatherData.degree}\n                                                            time={data.weatherData.time}\n                                                            status={data.weatherData.status} index={index} onClick={onClick}\n                                                            clicked={data.clicked}/>\n                    )\n                }\n            </div>\n        </>\n    );\n}"],"mappings":"gSAAA,OAAQA,WAAR,KAA0B,gBAA1B,CACA,MAAOC,MAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,C,6IAWA,UAAYC,SAAZ,C,UAAYA,Q,EAAAA,Q,oBAAAA,Q,kBAAAA,Q,yBAAAA,Q,GAAAA,Q,MAMZ,MAAO,IAAMC,SAAkC,CAAG,QAArCA,SAAqC,MAKO,IAJFC,SAIE,MAJFA,QAIE,CAHFC,WAGE,MAHFA,WAGE,CAFFC,kBAEE,MAFFA,kBAEE,CADFC,QACE,MADFA,QACE,CACrD,cAA0BN,QAAQ,CAACI,WAAD,CAAlC,wCAAOG,KAAP,eAAcC,QAAd,eACAT,SAAS,CAAC,UAAM,CACZS,QAAQ,CAACJ,WAAD,CAAR,CACH,CAFQ,CAEN,CAACA,WAAD,CAFM,CAAT,CAIA,GAAMK,QAAO,CAAGN,QAAQ,GAAKF,QAAQ,CAACS,KAAtB,EAA+BH,KAA/B,CAAuC,SAACI,KAAD,CAAmB,CACtE,GAAIC,SAAQ,oBAAOL,KAAP,CAAZ,CACA,GAAIM,QAAO,CAAG,KAAd,CACAD,QAAQ,CAAGA,QAAQ,CAACE,GAAT,CAAa,SAACC,IAAD,CAAOC,CAAP,CAAa,CACjC,GAAIL,KAAK,GAAKK,CAAV,EAAeD,IAAI,CAACE,OAAxB,CAAiC,CAC7BF,IAAI,CAACE,OAAL,CAAe,KAAf,CACAZ,kBAAkB,CAAC,YAAD,CAAlB,CACAQ,OAAO,CAAG,IAAV,CACH,CAJD,IAIO,CACHE,IAAI,CAACE,OAAL,CAAeN,KAAK,GAAKK,CAAzB,CACH,CACD,MAAOD,KAAP,CACH,CATU,CAAX,CAUA,GAAIF,OAAJ,CAAa,OACbL,QAAQ,CAACI,QAAD,CAAR,CACA,GAAMM,IAAG,CAAG,QAAUX,KAAK,CAACI,KAAD,CAAL,CAAaQ,WAAb,CAAyBC,IAAzB,CAA8BC,SAA9B,CAAwC,CAAxC,CAA2C,CAA3C,CAAV,CAA0D,GAA1D,CAAgEd,KAAK,CAACI,KAAD,CAAL,CAAaQ,WAAb,CAAyBC,IAAzB,CAA8BC,SAA9B,CAAwC,CAAxC,CAA2C,CAA3C,CAAhE,CAAgH,QAA5H,CACAhB,kBAAkB,CAACa,GAAD,CAAlB,CACH,CAjBe,CAiBZ,UAAM,CACT,CAlBD,CAoBA,GAAI,CAACd,WAAD,EAAgB,CAACG,KAArB,CAA4B,CACxB,MAAO,KAAP,CACH,CACD,mBACI,wCACI,oBAAKD,QAAL,EADJ,cAEI,YACI,SAAS,CAAEH,QAAQ,GAAKF,QAAQ,CAACqB,MAAtB,CAA+B,WAA/B,CAA6CnB,QAAQ,GAAKF,QAAQ,CAACsB,OAAtB,CAAgC,SAAhC,CAA4C,UADxG,UAGQhB,KAAK,CAACO,GAAN,CAAU,SAACU,IAAD,CAAOb,KAAP,qBAAiB,KAAC,WAAD,EAAuC,MAAM,CAAEa,IAAI,CAACL,WAAL,CAAiBM,MAAhE,CACa,IAAI,CAAED,IAAI,CAACL,WAAL,CAAiBC,IADpC,CAEa,MAAM,CAAEI,IAAI,CAACL,WAAL,CAAiBO,MAFtC,CAE8C,KAAK,CAAEf,KAFrD,CAE4D,OAAO,CAAEF,OAFrE,CAGa,OAAO,CAAEe,IAAI,CAACP,OAH3B,qBAA8BN,KAA9B,EAAjB,EAAV,CAHR,EAFJ,GADJ,CAeH,CAjDM"},"metadata":{},"sourceType":"module"}